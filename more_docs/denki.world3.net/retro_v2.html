<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Retro Adapter</title>
	<link rel="icon" type="image/png" href="r2_fav.png">
	<link rel="stylesheet" type="text/css" href="sidebar.css">
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text/css" href="retro.css">
<link rel="stylesheet" type="text/css" href="tables.css">
<link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>
</head>

<body>
<div class="sidebar_outer">
	<a href="index.html">
		<div class="sidebar_title">
			<span class="imagetext">Electronics Project Menu</span>
		</div>
	</a>

	<div class="sidebar_inner">
		<table class="sidebar_table">
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="retro_v2.html">Retro Adapter</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="superplay.html">S U P E R P L A Y</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="pad_converters.html">Saturn/SNES to Playstation Converters</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="beebkb.html">BBC Master USB Keyboard</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="dcstick.html">Dreacast Arcade Stick</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="saturn_usb.html">Sega Saturn to USB</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="n64togc.html">N64 to Gamecube/Wii</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="quicklaunch.html">USB Quick Launch Keys</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="arcade.html">USB Arcade Stick and Retro Adapter</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="avr_rescue.html">AVR incorrect fuse setting recovery</a></td></tr>
			<tr><td class="std" onmouseover="this.className = 'hlt';" onmouseout="this.className = 'std';">
				<a href="boxfit.html">Box fit PCBs</a></td></tr>
		</table>
	</div>

	<div class="sidebar_footer">
		<center>
			<a href="http://world3.net">world3.net</a><br>
			<a href="mailto:mojo@world3.net">mojo@world3.net</a>
		</center>
	</div>
</div>
<div class="content_box">

	<p>
		<div align="center">
			<a href="http://keio.dk/retroadapter.html" class="rollover">
				<span style="visibility: hidden;">Retro Adapter</span>
			</a>
		</div>
	</p>

	<br><br>
	
	<p>The Retro Adapter connects almost any type of game controller to USB. It works 
	with PCs running Windows/Linux and with Apple Macs, as well as the Sony Playstation
	3.</p>

	<br>

	<table><tr>
		<td><a href="http://keio.dk/retroadapter.html">
			<img src="img/keio_logo_1.png" border=0>
		</a></td>
		<td>&nbsp;&nbsp;</td>
		<td>
			<b><h3>The Retro Adapter is now available <a href="http://keio.dk/retroadapter.html">
			to buy ready-to-go or in kit form!</a>
			See the <a href="http://keio.dk/retroadapter.html">Keiō web site</a> for details.
			</h3></b>
		</td>
	</tr></table>

	<br>
	
	<p>See the old <a href="arcade.html">Retro Adapter</a> page for details of the
	original Retro Adapter.</p>

	<p>BBC coverage of the original Retro Adapter and the new prototype (starts after
	the PacMan segment, at 1.35):</p>

	<br><br>
	
	<div align="center">
		<object width="512" height="400"><param name="movie" value="http://news.bbc.co.uk/player/emp/external/player.swf"></param><param name="allowFullScreen" value="true"></param><param  name="allowScriptAccess" value="always"></param><param name="FlashVars"  value="config_settings_showUpdatedInFooter=true&playlist=http://news.bbc.co.uk/media/emp/8020000/8023600/8023675.xml&config=http://news.bbc.co.uk/player/emp/config/default.xml?1.3.105_2.10.7938_7967_20090406152952&config_settings_language=default&config_settings_showFooter=true&config_plugin_fmtjLiveStats_pageType=eav6&config_settings_showPopoutButton=false&config_settings_showPopoutCta=false"></param><embed src="http://news.bbc.co.uk/player/emp/external/player.swf" type="application/x-shockwave-flash" allowfullscreen="true" allowScriptAccess="always" width="512" height="400"  FlashVars="config_settings_showUpdatedInFooter=true&playlist=http://news.bbc.co.uk/media/emp/8020000/8023600/8023675.xml&config=http://news.bbc.co.uk/player/emp/config/default.xml?1.3.105_2.10.7938_7967_20090406152952&config_settings_language=default&config_settings_showFooter=true&config_plugin_fmtjLiveStats_pageType=eav6&config_settings_showPopoutButton=false&config_settings_showPopoutCta=false"></embed></object>
	</div>

	<p>&nbsp;</p>
	<p class="section_header">Updates</p>

	<table border="0"><tbody>
		<tr><td valign="top">01.08.10&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 2.1a released<br>
																	  - Fixed NES/SNES/N64/GC two player mode<br>
																	  - Added combined.hex (see firmware readme)<br>
		<tr><td valign="top">18.07.10&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 2.1 released<br>
																	  - Mouse Mode now supports both a mouse and a joystick simultaniously for computer emulators (e.g. Amiga or Atari ST)<br>
																	  - Reduced polling interval from 10ms to 8ms (120Hz or 2x 60Hz)<br>
																	  - Nintendo Virtual Boy supported<br>
																	  - SNES Mouse supported<br>
																	  - BBC Micro Voltmace button mapping fixed (again)<br>
																	  - Fixed N64 and Gamecube support (broken in 2.0)<br>
		<tr><td valign="top">30.05.10&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 2.0 released<br>
																	  - 2 Player Mode now works are two separate joysticks for improved
																	  emulator support<br>
																	  - Mouse support added, Amiga mice supported<br>
																	  - Famicom trackball supported<br>
																	  - Sega Arkanoid (paddle) controller supported<br>
																	  - 3D0 gamepads supported<br>
																	  - CD32 gamepads supported<br>
																	  - Japanese Famicom Connector added<br>
																	  - BBC joystick support improved<br>
																	  - BBC Voltmace button mapping fixed<br>
																	  - Compatibility improvement for Playstation controllers<br>
																	  - Button mappings fixed<br>
																	  - NES support improved<br>
																	  - Atari Driving Controller improved, works with MAME/Arkanoid<br>
																	  - Various bug fixes</td></tr>
		<tr><td valign="top">07.12.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 1.4 released<br>
																	  - Atari Paddles supported<br>
																	  - PC Gamepad supported<br>
																	  - Compatibility improvement for Sega Megadrive 6 button pad
																	  - Minor bug fixes</td></tr>
		<tr><td valign="top">04.10.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 1.2 released, BBC Micro joysticks supported<br>
																	  - Updated connections tables for BBC Micro<br>
																	  - Schematics and PCB no longer prototypes</td></tr>
		<tr><td valign="top">07.09.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 1.1 adds better Atari Driving controller support<br>
																	  - Updated connections tables</td></tr>
		<tr><td valign="top">20.08.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Finally reached 1.0!<br>
																	  - Added Atari 2600 Driving controller, C16 and Plus/4 connections</td></tr>
		<tr><td valign="top">20.08.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Firmware 0.9 released, bootloader added for updates over USB<br>
																	  - Removed Dreamcast connection details for re-design<br>
																	  - Updated DB15 key pins</td></tr>
		<tr><td valign="top">18.08.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Changed all connector pinouts to accomodate bootloader</td></tr>
		<tr><td valign="top">17.08.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- PDF file with connector diagrams added<br>
																	  - Photos of final production boards added</td></tr>
		<tr><td valign="top">21.07.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Final V1.0 PCB and latest firmware added to download section</td></tr>
		<tr><td valign="top">21.07.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Updated AVR to connector table with Up/Left fix</td></tr>
		<tr><td valign="top">21.07.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Changed PC-Engine and PC-FX ID logic<br>
																	  -	Made tables more readable</td></tr>
		<tr><td valign="top">19.07.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Fixed N64/GameCube connections<br>
																	  - Fixed key for (1)<br>
																	  - Uploaded firmware 0.2, Famicom/NES/SNES/N64/Gamecube working</td></tr>
		<tr><td valign="top">17.07.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Fixed schematic and PCB</td></tr>
		<tr><td valign="top">16.07.09&nbsp;&nbsp;&nbsp;&nbsp;</td><td>- Complete redesign of hardware</td></tr>
	</tbody></table>

	<p>After experimenting with the first prototype boards, I decided to redesign the
	hardware from scratch. The new design has both DB9 and DB15 connectors, and uses a
	more powerful AVR microcontroller with more flash memory and support for firmware
	upgrades over USB.</p>

	<p><a href="retro_v2_old.html">Details of the old design are archived here.</a></p>

	<p>&nbsp;</p>
	<p class="section_header">Controller support<br><hr noshade="noshade"></p>

	<p>Working, fully tested game controllers:</p>

	<ul>
		<li>3DO gamepad</li>
		<li>9-Pin digital joysticks with 1 or 2 buttons including:<br>
			<ul>
				<li>Atari 2600</li>
				<li>Atari 400 / 800 / 1200XL / 600XL / 800XL / 65XE / 130XE / 800XE</li>
				<li>Commodore VIC-20 / MAX / C64 / Amiga</li>
				<li>Amstrad CPC464, CPC6128 and CPC6128 Plus Digital Joysticks</li>
			</ul>
		</li><li>Atari 2600 Driving controller</li>
		<li>Atari 2600 Paddles</li>
		<li>BBC Micro / Master original 2x joysticks on one cable and 1x Voltmace 14B joystick (adapter box not required)</li>
		<li>Commodore C16 / C116 / Plus4 Joystick</li>
		<li>Commodore CD32</li>
		<li>Dragon 32 / 64</li>
		<li>MSX Joystick</li>
		<li>NEC PC-Engine gamepad</li>
		<li>Neo Geo joystick / gamepad</li>
		<li>Nintendo Famicom / NES</li>
		<li>Nintendo Gamecube</li>
		<li>Nintendo N64</li>
		<li>Nintendo Super Famicom / SNES</li>
		<li>Nintendo Virtual Boy</li>
		<li>PC Gameport</li>
		<li>Sega Master System / SG 1000 / SG 1000 II / Mark III</li>
		<li>Sega Master System Araknoid (paddle) controller</li>
		<li>Sega MegaDrive (Genesis) (3 button and 6 button)</li>
		<li>Sega Saturn standard 6 button pad / arcade stick</li>
		<li>Sega Saturn Analogue (NiGHTS) Controller</li>
		<li>Sinclair ZX Spectrum Plus3 Joystick</li>
		<li>Sony Playstation 1 (PSX) original / Dual Shock / arcade stick / dance mat</li>
		<li>Sony Playstation 2 (PS2) Dual Shock 2 / arcade stick / dance mat</li>
		<li>Sony Playstation Densha de Go! (train) controller</li>
		<li>Tandy TRS-80 CoCo (Colour Computer)</li>
		<li>TurboGrafx-16 gamepad</li>
		<li>X68000 Joystick</li>
	</ul>

	<p>Not tested but expected to work:</p>

	<ul>
		<li>Sinclair ZX Spectrum Kempston Joystick</li>
		<li>TI-99 / 4A Joystick</li>
	</ul>

	<p>Fully tested mice / trackballs:</p>

	<ul>
		<li>Amiga 2/3 button mouse</li>
		<li>Atari 2 button mouse</li>
		<li>Nintendo Famicom trackball</li>
		<li>Nintendo SNES mouse</li>
	</ul>
	
	<p>Planned support:</p>

	<ul>
		<li>3DO mouse *</li>
		<li>Apple IIc Analogue Joystick</li>
		<li>Apple IIc Paddles</li>
		<li>Apple ADB joystick *</li>
		<li>Amstrad Analogue Joystick</li>
		<li>Atari 5200 controller</li>
		<li>Atari Enhanced Joystick</li>
		<li>Atari Mouse</li>
		<li>Fairchild Channel F joystick</li>
		<li>Fujitsu FM Towns / FM Towns Marty</li>
		<li>NEC PC-Engine multitap *</li>
		<li>NEC PC-FX *</li>
		<li>Nintendo Famicom paddle controller *</li>
		<li>Nintendo Wii "classic" gamepad *</li>
		<li>Sega Dreamcast gamepad / joystick *</li>
		<li>Sega Dreamcast mouse *</li>
		<li>Sega Saturn multi-tap *</li>
		<li>Sega Saturn mouse *</li>
		<li>Sony Playstation mouse *</li>
		<li>Vectrex Controller</li>
	</ul>

	<p>* I have these controllers, the others I need to aquire.</p>
	
	<p>Dreamcast Maple bus decoding is now working, but needs further testing. As far
	as I know I am the first person to achieve this on a microcontroller. The
	<a href="http://www.saleae.com/logic/">Saleae Logic</a> logic analyser was
	invaluable in developing and debugging the code. I wrote a 
	<a href="http://blog.world3.net/2009/07/saleae-logic-review/">review</a> for my 
	blog.</p>

	<p>&nbsp;</p>

	<p class="section_header">Hardware Design<br>
		<hr noshade="noshade">
	</p>

	<div align="center">
		<table border="0">
			<tbody><tr>
				<td align="center"><a href="img/retro/schematic_w.png"><img src="img/retro/schematic_bt.png" alt="Prototype schematic" border="0" width="486" height="237"></a></td>
				<td>&nbsp;&nbsp;</td>
				<td align="center"><a href="img/retro/pcb-final-01.png"><img src="img/retro/pcb-final-01_t.png" alt="Prototype PCB design" border="0" width="250" height="237"></a></td>
			</tr>
			<tr>
				<td align="center">Schematic</td>
				<td></td>
				<td align="center">PCB design</td>
			</tr>
		</tbody></table>
	</div>

	<p>Many thanks to <a href="http://www.seeedstudio.com/">Seeed Studio</a>
	for the excellent work they did on the prototype PCBs. I can recommend
	them for being friendly, helpful and producing excellent quality
	boards.</p>

	<p>Connection map by AVR pin:</p>

	<table border="0">
		<tbody>
			<tr><td><b>&nbsp;ATmega168&nbsp;</b></td><td><b>&nbsp;9 pin D-sub&nbsp;</b></td><td><b>&nbsp;15 pin D-sub&nbsp;</b></td></tr>
			<tr><td colspan="3" bgcolor="white"></td></tr>
			<tr class="tr1"><td>&nbsp;PD0</td><td>&nbsp;1 Up</td><td>&nbsp;15 Up</td></tr>
			<tr class="tr2"><td>&nbsp;PD3</td><td>&nbsp;2 Down</td><td>&nbsp;</td></tr>
			<tr class="tr1"><td>&nbsp;PD4</td><td>&nbsp;3 Left</td><td>&nbsp;14 Left</td></tr>
			<tr class="tr2"><td>&nbsp;PD5</td><td>&nbsp;4 Right</td><td>&nbsp;</td></tr>
			<tr class="tr1"><td>&nbsp;PD6</td><td>&nbsp;6 Button 1</td><td>&nbsp;</td></tr>
			<tr class="tr2"><td>&nbsp;PD7</td><td>&nbsp;7 Select</td><td>&nbsp;</td></tr>
			<tr><td colspan="3" bgcolor="white"></td></tr>
			<tr class="tr1"><td>&nbsp;PB0</td><td>&nbsp;9 Button 2</td><td>&nbsp;</td></tr>
			<tr class="tr2"><td>&nbsp;PB1</td><td>&nbsp;</td><td>&nbsp;7&nbsp; Down</td></tr>
			<tr class="tr1"><td>&nbsp;PB2</td><td>&nbsp;</td><td>&nbsp;6&nbsp; Right&nbsp;</td></tr>
			<tr class="tr2"><td>&nbsp;PB3</td><td>&nbsp;</td><td>&nbsp;5&nbsp; B</td></tr>
			<tr class="tr1"><td>&nbsp;PB4</td><td>&nbsp;</td><td>&nbsp;4&nbsp; D</td></tr>
			<tr class="tr2"><td>&nbsp;PB5</td><td>&nbsp;</td><td>&nbsp;3&nbsp; Select&nbsp;</td></tr>
			<tr><td colspan="3" bgcolor="white"></td></tr>
			<tr class="tr1"><td>&nbsp;PC0</td><td>&nbsp;</td><td>&nbsp;13 A</td></tr>
			<tr class="tr2"><td>&nbsp;PC1</td><td>&nbsp;</td><td>&nbsp;12 C</td></tr>
			<tr class="tr1"><td>&nbsp;PC2</td><td>&nbsp;</td><td>&nbsp;11 Start&nbsp;</td></tr>
			<tr class="tr2"><td>&nbsp;PC3</td><td>&nbsp;</td><td>&nbsp;10 NC</td></tr>
			<tr class="tr1"><td>&nbsp;PC4</td><td>&nbsp;</td><td>&nbsp;9&nbsp; D (NC*)</td></tr>
			<tr class="tr2"><td>&nbsp;PC5</td><td>&nbsp;</td><td>&nbsp;2&nbsp; NC&nbsp;</td></tr>
			<tr><td colspan="3" bgcolor="white"></td></tr>
			<tr class="tr1"><td>&nbsp;Vcc</td><td>&nbsp;5 +5V</td><td>&nbsp;8&nbsp; +5V</td></tr>
			<tr class="tr2"><td>&nbsp;GND</td><td>&nbsp;8 GND</td><td>&nbsp;1&nbsp; GND&nbsp;</td></tr>
	</tbody></table>

	<p>* Pin 9 and pin 4 are connected to button D in Neo Geo controllers, but the Neo Geo only
	checks pin 4.</p>
	<p>For details of Connector pinouts see <a href="http://spreadsheets.google.com/ccc?key=0Aho3omeSKZ7AdFJPWEFVOEpNX3lOTjdYcVFoX3pfS1E&hl=en_GB">
	this Google Docs spreadsheet</a>. Keep in mind that I edit it from time to time so check
	for updates.<p>

	<p>The PCB fits inside a DB9-DB25 converter shell, and has a DB9 at one end and a DB15 at the other. The DB9 can accept most DB9 controllers, such as Atari/Commodore style joysticks, as well as Sega Master System and Megadrive (Gensis) gamepads. With the right connectors it can take Nintendo NES/SNES/N64/Gamecube gamepads, as well as Atari driving controllers and a few others.</p>

	<p>The DB15 on the other end can directly accept Neo Geo joysticks and gamepads. With extra connectors it can take all other supported controllers, and there is room for expansion. By grounding certain pins, the AVR automatically knows which connector is attached so everything is simply "plug in and go."
	</p>

	<p>The DB9-DB25 converter box is a cheap and readily available enclosure. A single hole for the USB cable needs to be drilled in one side. The USB spec mandates a captured cable, and using one also means that the position of the hole is not critical.
	</p>

	<p>The ATmega168 microcontroller has enough I/O ports to cover every pin on each connector, with only two being shared. The 16K flash memory is more than enough with plenty of room for expansion, and also supports bootloading for firmware upgrades over USB.
	</p>

	<p>The ultimate goal is to have an easy to build design which can be
	produced in kit form, and which is extendable for new controllers. The AVR is the only surface mount component, all others are through-hole. Initial programming is done via the DB15 and a special reset test point, after which firmware can be updated via USB. The AVR's TQFP package is not too difficult to solder, but I will provide pre-soldered and programmed chips for kit builders.
	</p>

	<div>&nbsp;</div>

	<p class="section_header">Connectors<br>
	<hr noshade="noshade"></p>

	<p>To connect controllers which do not use a DB9 or DB15 to the Retro Adapter a Connector is required. Connectors are mostly just wiring, but a few require extra hardware too.</p>

	<p>Preliminary controller connections: <a href="http://spreadsheets.google.com/ccc?key=tROXAU8JM_yNN7XqQh_z_KQ">Google Spreadsheet</a></p>

	<p><b><h3>Connector diagrams</h3></b> (view looking in to console, pin 1 indicated):</p>

	<p><table border=0><tbody>
		<tr><td align="center"><img src="img/conn/satcon.png" alt="Sega Saturn"></td><td>&nbsp;</td><td align="center"><img src="img/conn/psx.png" alt="Playstation"></td><td>&nbsp;</td><td align="center"><img src="img/conn/supercon.png" alt="Super Famicom"></td><td>&nbsp;</td><td align="center"><img src="img/conn/miniDIN_num.png" alt="PC-Engine"><img src="img/conn/DIN8.png" alt="TurboGrafx"><td>&nbsp;</td><td align="center"><img src="img/conn/N64.png" alt="N64"></td></tr>
		<tr><td align="center">Sega Saturn</td><td></td><td align="center">Playstation</td><td></td><td align="center">Super Famicom<br>SNES</td><td></td><td align="center">PC-Engine<br>TurboGrafx</td><td></td><td align="center">N64</td></tr>
		<tr><td>&nbsp;</td></tr>
		<tr><td align="center"><img src="img/conn/famicon.png" alt="Famicom"></td><td>&nbsp;</td><td align="center"><img src="img/conn/gamecube.png" alt="Gamecube"></tr>
		<tr><td align="center">Famicom<br>NES</td><td></td><td align="center">Gamecube</td></tr>
	</tbody></table></p>

	<p>PDF containing all connectors with both console and controller ends: <a href="img/conn/connectors.pdf">connectors.pdf</a></p>

	<p><b>N64 and Gamecube Connectors</b> require a 3.3V regulator to generate the required voltage. Almost any type will do as long as it can supply more than 100mA. I use TO-92 package fixed 3-pin regulators, the exact model depending on what I can get cheaply at the time :-)</p>
	
	<p>Since both Connectors are quite similar you can make a combined N64+Gamecube Connector. If you do, do not connect both controllers at once.</p>

	<table border=0><tbody>
		<tr>
			<td valign="top">
				<a href="img/retro/sch-ataripaddles.png">
					<img src="img/retro/sch-ataripaddles_t.png" width=234 height=236 border=0>
				</a>
			</td>
			<td>&nbsp;</td>
			<td valign="top">
				<p><b>Atari Paddle Connectors</b> require a 556 timer, similar to the one used in the Atari 2600. See the schematic on the left for details.</p>
				<p>Due to the age of the controllers the paddles often jump around when in use. This can be corrected by either replacing the potentiometers (linear 1MΩ) or by opening the orginal pots and cleaning them.</td>
		</tr>
	</tbody></table>

	<p>The <b>2 Player Connector</b> gives you a second DB9. You can connect Atari/Commodore style joysticks, Sega Master System and Megadrive (Genesis) gamepads and NES/SNES Connectors to it. N64 and Gamecube support may be added at a later date.</p>
	
	<p>With the 2 Player Connector the Retro Adapter switches to dual joystick mode. In this mode
	the computer sees two separate joysticks attached, one for each player. You can then select
	one joystick per player in emulators.</p>
	
	<p>&nbsp;</p>

	<p class="section_header">Firmware Design<br>
	<hr noshade="noshade"></p>

	<p>The firmware makes use of V-USB, a free open-source software only USB framework for AVR microcontrollers. In my tests compatibility is excellent and latency extremely low. Code size is also small and the design flexible. While I prefer using assembler, as I did with Igor's original implementation, C seems to be more common and will hopefully generate some community support. Assembler is used for some timing critical routines (notably N64/Gamecube and Dreamcast protocols).
	</p>

	<p>A bootloader provided with the V-USB framework allows updates to be loaded without
	the need for an AVR programmer. I re-compiled the Windows bootloader program with
	the correct VID/PID pair but otherwise did not modify it.</p>

	<p>Button mappings were originally decided upon by myself based on what I thought seemed logical. The idea is to have certain common buttons, such as start/select and shoulder buttons always mapped to the same buttons on the USB side. That way once buttons have been set up in a particular game or emulator, most controllers will just work with no further remapping necessary.
	</p>

	<p>That was the plan, until Sony scuppered it :( The Playstation 3 has it's own particular mapping scheme, and in order to have Playstation pads map correctly I have had to change my scheme entirely. At least everything will still be consistent.
	</p>

	<p>&nbsp;</p>

	<p class="section_header">Finished Product<br><hr noshade="noshade"></p>

	<table border="0" align="center"><tbody>
		<tr>
			<td align="center"><a href="img/retro/production01.jpg"><img src="img/retro/production01_t.jpg" alt="PCB rev. 3 top" border="0" width="313" height="235"></a></td>
			<td>&nbsp;&nbsp;</td>
			<td align="center"><a href="img/retro/production02.jpg"><img src="img/retro/production02_t.jpg" alt="PCB rev. 3 bottom" border="0" width="313" height="235"></a></td>
			<td>&nbsp;&nbsp;</td>
		<tr>
			<td align="center">PCB rev. 3 top</td>
			<td></td>
			<td align="center">PCB rev. 3 bottom</td>
		</tr>

		<tr><td height=20>&nbsp;</td></tr>

		<tr>
			<td align="center"><a href="img/retro/rev313.jpg"><img src="img/retro/rev313_t.jpg" alt="Assembled" border="0" width="313" height="235"></a></td>
			<td>&nbsp;&nbsp;</td>
			<td align="center"><a href="img/retro/rev312.jpg"><img src="img/retro/rev312_t.jpg" alt="Assembled" border="0" width="313" height="235"></a></td>
		</tr>
		<tr>
			<td align="center">Assembled</td>
			<td></td>
			<td align="center">Assembled</td>
		</tr>
	</tbody></table>

	<p>The final production PCB was manufactured by <a href="http://www.seeedstudio.com/">Seeed Studio</a>. After 3 revisions, everything is perfect.
	</p>

	<p>The AVR has been moved to the bottom of the board to ease the layout of the PCB tracks. I was concerned that due to some parts of the board being close to the tolerances Seeed Studio set out there might be quality issues, but after insepecting all 25 boards I received they all apear to be error free.
	</p>

	<p>The PCB design is available in Cadsoft Eagle format in the archive below.
	</p>

	<p>&nbsp;</p>

	<p class="section_header">Download<br><hr noshade="noshade"></p>

	<p>Latest firmware, source code, schematic and PCB:</p>

	<p><a href="downloads/RetroAdapterV2_2.1a.lzh">RetroAdapterV2_2.1a.lzh</a> / <a href="downloads/RetroAdapterV2_2.1a.zip">RetroAdapterV2_2.1a.zip</a></p>

	<p>&nbsp;</p>

	<p>Older versions:</p>

	<p>
		<a href="downloads/RetroAdapterV2_2.1.lzh">RetroAdapterV2_2.1.lzh</a> / <a href="downloads/RetroAdapterV2_2.1.zip">RetroAdapterV2_2.1.zip</a><br>
		<a href="downloads/RetroAdapterV2_2.0.lzh">RetroAdapterV2_2.0.lzh</a> / <a href="downloads/RetroAdapterV2_2.0.zip">RetroAdapterV2_2.0.zip</a><br>
		<a href="downloads/RetroAdapterV2_1.4.lzh">RetroAdapterV2_1.4.lzh</a> / <a href="downloads/RetroAdapterV2_1.4.zip">RetroAdapterV2_1.4.zip</a><br>
		<a href="downloads/RetroAdapterV2_1.3.lzh">RetroAdapterV2_1.3.lzh</a> / <a href="downloads/RetroAdapterV2_1.3.zip">RetroAdapterV2_1.3.zip</a><br>
		<a href="downloads/RetroAdapterV2_1.2.lzh">RetroAdapterV2_1.2.lzh</a> / <a href="downloads/RetroAdapterV2_1.2.zip">RetroAdapterV2_1.2.zip</a><br>
		<a href="downloads/RetroAdapterV2_1.0.lzh">RetroAdapterV2_1.0.lzh</a> / <a href="downloads/RetroAdapterV2_1.0.zip">RetroAdapterV2_1.0.zip</a><br>
		<a href="downloads/RetroAdapterV2_0.9.lzh">RetroAdapterV2_0.9.lzh</a> / <a href="downloads/RetroAdapterV2_0.9.zip">RetroAdapterV2_0.9.zip</a><br>
		<a href="downloads/RetroAdapterV2_0.8.lzh">RetroAdapterV2_0.8.lzh</a> / <a href="downloads/RetroAdapterV2_0.8.zip">RetroAdapterV2_0.8.zip</a>
	</p>

</div>
</body>
</html>